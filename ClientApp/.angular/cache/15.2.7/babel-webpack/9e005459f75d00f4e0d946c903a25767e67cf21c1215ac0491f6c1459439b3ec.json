{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HomeComponent_ng_container_11_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.surname);\n  }\n}\nfunction HomeComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2, \"List of current users in the bank\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"td\");\n    i0.ɵɵtext(7, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11, \"Surname\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13, \"Balance\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, HomeComponent_ng_container_11_tr_15_Template, 7, 3, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n  }\n}\nexport class HomeComponent {\n  constructor(http, baseUrl) {\n    this.users = [];\n    this.userForm = new FormGroup({\n      name: new FormControl(''),\n      surname: new FormControl('')\n    });\n    this.subject$ = new Subject();\n    this.http = http;\n    this.baseUrl = baseUrl;\n    http.get(baseUrl + 'users').subscribe(result => {\n      this.users = result.users;\n    });\n    this.subject$.subscribe(user => {\n      this.users.push(user);\n    });\n  }\n  onSubmit(form) {\n    if (form.valid) {\n      const {\n        name,\n        surname\n      } = form.value;\n      this.http.post(this.baseUrl + 'users', form.value).subscribe(result => {\n        this.subject$.next(result.user);\n      }, error => console.error(error));\n    }\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 12,\n  vars: 2,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"name\", \"placeholder\", \"Name\"], [\"formControlName\", \"surname\", \"placeholder\", \"Surname\"], [\"type\", \"submit\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Users\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit(ctx.userForm);\n      });\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4, \"Add user\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"input\", 1)(6, \"br\")(7, \"input\", 2)(8, \"br\");\n      i0.ɵɵelementStart(9, \"button\", 3);\n      i0.ɵɵtext(10, \"Add\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(11, HomeComponent_ng_container_11_Template, 16, 1, \"ng-container\", 4);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n        border: 1px solid #ddd;\\n        text-align: left;\\n    }\\n\\n    table[_ngcontent-%COMP%] {\\n        border-collapse: collapse;\\n        width: 100%;\\n    }\\n\\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n        padding: 15px;\\n    }\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AACvD,SAASC,OAAO,QAAQ,MAAM;;;;;;;ICoClBC,0BAA+B;IACvBA,YAAW;IAAAA,iBAAK;IACpBA,0BAAI;IAAAA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;;;;IAFrBA,eAAW;IAAXA,gCAAW;IACXA,eAAa;IAAbA,kCAAa;IACbA,eAAgB;IAAhBA,qCAAgB;;;;;IAfpCA,6BAAmC;IAC/BA,yBAAG;IAAAA,iDAAiC;IAAAA,iBAAI;IACxCA,6BAAO;IAGSA,kBAAE;IAAAA,iBAAK;IACXA,0BAAI;IAAAA,oBAAI;IAAAA,iBAAK;IACbA,2BAAI;IAAAA,wBAAO;IAAAA,iBAAK;IAChBA,2BAAI;IAAAA,wBAAO;IAAAA,iBAAK;IAGxBA,8BAAO;IACHA,8EAIK;IACTA,iBAAQ;IAEhBA,0BAAe;;;;IAPkBA,gBAAQ;IAARA,sCAAQ;;;AD5BzC,OAAM,MAAOC,aAAa;EAUxBC,YAAYC,IAAgB,EAAsBC,OAAe;IAT1D,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAc,IAAIN,SAAS,CAAC;MACzCO,IAAI,EAAE,IAAIR,WAAW,CAAC,EAAE,CAAC;MACzBS,OAAO,EAAE,IAAIT,WAAW,CAAC,EAAE;KAC5B,CAAC;IAGM,aAAQ,GAAG,IAAIE,OAAO,EAAQ;IAGpC,IAAI,CAACI,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtBD,IAAI,CAACI,GAAG,CAASH,OAAO,GAAG,OAAO,CAAC,CAACI,SAAS,CAAEC,MAAW,IAAI;MAC5D,IAAI,CAACC,KAAK,GAAGD,MAAM,CAACC,KAAK;IAC3B,CAAC,CAAC;IACF,IAAI,CAACC,QAAQ,CAACH,SAAS,CAACI,IAAI,IAAG;MAC7B,IAAI,CAACF,KAAK,CAACG,IAAI,CAACD,IAAI,CAAC;IACvB,CAAC,CAAC;EACJ;EAEAE,QAAQ,CAACC,IAAe;IACtB,IAAIA,IAAI,CAACC,KAAK,EAAE;MACd,MAAM;QAAEX,IAAI;QAAEC;MAAO,CAAE,GAAGS,IAAI,CAACE,KAAK;MACpC,IAAI,CAACd,IAAI,CAACe,IAAI,CAAS,IAAI,CAACd,OAAO,GAAG,OAAO,EAAEW,IAAI,CAACE,KAAK,CAAC,CAACT,SAAS,CAAEC,MAAW,IAAI;QACnF,IAAI,CAACE,QAAQ,CAACQ,IAAI,CAACV,MAAM,CAACG,IAAI,CAAC;MACjC,CAAC,EAAGQ,KAAU,IAAKC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;;EAE5C;;AA5BWnB,aAAa;mBAAbA,aAAa,4DAUc,UAAU;AAAA;AAVrCA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCK1B1B,0BAAI;MAAAA,qBAAK;MAAAA,iBAAK;MAEdA,+BAA6D;MAAhCA;QAAA,OAAY2B,0BAAkB;MAAA,EAAC;MACxD3B,yBAAG;MAAAA,wBAAQ;MAAAA,iBAAI;MACfA,2BAAmD;MAInDA,iCAAsB;MAAAA,oBAAG;MAAAA,iBAAS;MAGtCA,mFAmBe;;;MA5BTA,eAAsB;MAAtBA,wCAAsB;MASbA,eAAkB;MAAlBA,uCAAkB","names":["FormControl","FormGroup","Subject","i0","HomeComponent","constructor","http","baseUrl","name","surname","get","subscribe","result","users","subject$","user","push","onSubmit","form","valid","value","post","next","error","console","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/amihajlovski/Projects/bank-accounts-api/ClientApp/src/app/home/home.component.ts","/Users/amihajlovski/Projects/bank-accounts-api/ClientApp/src/app/home/home.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\n\nimport { User } from '../models/user';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n})\nexport class HomeComponent {\n  public users: User[] = [];\n  public userForm: FormGroup = new FormGroup({\n    name: new FormControl(''),\n    surname: new FormControl(''),\n  });\n  public baseUrl: string;\n  public http: HttpClient;\n  private subject$ = new Subject<User>();\n\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n    http.get<User[]>(baseUrl + 'users').subscribe((result: any) => {\n      this.users = result.users;\n    })\n    this.subject$.subscribe(user => {\n      this.users.push(user);\n    })\n  }\n\n  onSubmit(form: FormGroup) {\n    if (form.valid) {\n      const { name, surname } = form.value;\n      this.http.post<User[]>(this.baseUrl + 'users', form.value).subscribe((result: any) => {\n        this.subject$.next(result.user);\n      }, (error: any) => console.error(error));\n    }\n  }\n\n  \n}\n\n","<style>\n    table, td, th {\n        border: 1px solid #ddd;\n        text-align: left;\n    }\n\n    table {\n        border-collapse: collapse;\n        width: 100%;\n    }\n\n    th, td {\n        padding: 15px;\n    }\n</style>\n\n<h1>Users</h1>\n\n<form [formGroup]=\"userForm\" (ngSubmit)=\"onSubmit(userForm)\">\n    <p>Add user</p>\n    <input formControlName=\"name\" placeholder=\"Name\" />\n    <br />\n    <input formControlName=\"surname\" placeholder=\"Surname\" />\n    <br />\n    <button type=\"submit\">Add</button>\n</form>\n\n<ng-container *ngIf=\"users.length\">\n    <p>List of current users in the bank</p>\n    <table>\n        <thead>\n            <tr>\n                <td>Id</td>\n                <td>Name</td>\n                <td>Surname</td>\n                <td>Balance</td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let user of users\">\n                <td>{{user.id}}</td>\n                <td>{{user.name}}</td>\n                <td>{{user.surname}}</td>\n            </tr>\n        </tbody>\n    </table>\n</ng-container>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}