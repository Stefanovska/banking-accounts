{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet UserDetailsComponent = class UserDetailsComponent {\n  constructor(http, baseUrl, route) {\n    this.route = route;\n    this.accountForm = new FormGroup({\n      initialCredit: new FormControl()\n    });\n    this.user = null;\n    this.userId = '';\n    this.http = http;\n    this.baseUrl = baseUrl;\n  }\n  ngOnInit() {\n    this.userId = this.route.snapshot.params['userId'];\n    this.http.get(this.baseUrl + `users/${this.userId}`).subscribe(result => {\n      this.user = result.user;\n    });\n  }\n  onSubmit(form) {\n    if (form.valid) {\n      const {\n        initialCredit\n      } = form.value;\n      this.http.post(this.baseUrl + `users/${this.userId}/accounts`, {\n        initialCredit: {\n          value: initialCredit,\n          currency: 'EUR'\n        }\n      }).subscribe(result => {\n        this.user = result.user;\n        this.accountForm.reset();\n      }, error => console.error(error));\n    }\n  }\n};\nUserDetailsComponent = __decorate([Component({\n  selector: 'app-user-details-component',\n  templateUrl: './user-details.component.html'\n}), __param(1, Inject('BASE_URL'))], UserDetailsComponent);\nexport { UserDetailsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAUC,MAAM,QAAQ,eAAe;AAGzD,SAASC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAShD,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAS/BC,YAAYC,IAAgB,EAAsBC,OAAe,EAAUC,KAAqB;IAArB,UAAK,GAALA,KAAK;IARzE,gBAAW,GAAc,IAAIL,SAAS,CAAC;MAC5CM,aAAa,EAAE,IAAIP,WAAW;KAC/B,CAAC;IACK,SAAI,GAAgB,IAAI;IACxB,WAAM,GAAW,EAAE;IAKxB,IAAI,CAACI,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;EACxB;EAEAG,QAAQ;IACN,IAAI,CAACC,MAAM,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAAC,QAAQ,CAAC;IAClD,IAAI,CAACP,IAAI,CAACQ,GAAG,CAAS,IAAI,CAACP,OAAO,GAAG,SAAS,IAAI,CAACI,MAAM,EAAE,CAAC,CAACI,SAAS,CAAEC,MAAW,IAAI;MACrF,IAAI,CAACC,IAAI,GAAGD,MAAM,CAACC,IAAI;IACzB,CAAC,CAAC;EACJ;EAEAC,QAAQ,CAACC,IAAe;IACtB,IAAIA,IAAI,CAACC,KAAK,EAAE;MACd,MAAM;QAAEX;MAAa,CAAE,GAAGU,IAAI,CAACE,KAAK;MACpC,IAAI,CAACf,IAAI,CAACgB,IAAI,CAAc,IAAI,CAACf,OAAO,GAAG,SAAS,IAAI,CAACI,MAAM,WAAW,EAAE;QAC1EF,aAAa,EAAE;UACbY,KAAK,EAAEZ,aAAa;UACpBc,QAAQ,EAAE;;OAEb,CAAC,CAACR,SAAS,CAAEC,MAAW,IAAI;QAC3B,IAAI,CAACC,IAAI,GAAGD,MAAM,CAACC,IAAI;QACvB,IAAI,CAACO,WAAW,CAACC,KAAK,EAAE;MAC1B,CAAC,EAAGC,KAAU,IAAKC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;;EAE5C;CACD;AAnCYtB,oBAAoB,eAJhCJ,SAAS,CAAC;EACT4B,QAAQ,EAAE,4BAA4B;EACtCC,WAAW,EAAE;CACd,CAAC,EAU+BC,iBAAM,CAAC,UAAU,CAAC,IATtC1B,oBAAoB,CAmChC;SAnCYA,oBAAoB","names":["Component","Inject","FormControl","FormGroup","UserDetailsComponent","constructor","http","baseUrl","route","initialCredit","ngOnInit","userId","snapshot","params","get","subscribe","result","user","onSubmit","form","valid","value","post","currency","accountForm","reset","error","console","selector","templateUrl","__param"],"sourceRoot":"","sources":["/Users/amihajlovski/Projects/bank-accounts-api/ClientApp/src/app/user-details/user-details.component.ts"],"sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { FormControl, FormGroup } from '@angular/forms';\n\nimport { User } from '../models/user';\nimport { UserAccount } from '../models/userAccount';\n\n@Component({\n  selector: 'app-user-details-component',\n  templateUrl: './user-details.component.html'\n})\nexport class UserDetailsComponent implements OnInit {\n  public accountForm: FormGroup = new FormGroup({\n    initialCredit: new FormControl(),\n  });\n  public user: User | null = null;\n  public userId: string = '';\n  public baseUrl: string;\n  public http: HttpClient;\n\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string, private route: ActivatedRoute) {\n    this.http = http;\n    this.baseUrl = baseUrl;\n  }\n\n  ngOnInit() {\n    this.userId = this.route.snapshot.params['userId'];\n    this.http.get<User[]>(this.baseUrl + `users/${this.userId}`).subscribe((result: any) => {\n      this.user = result.user;\n    })\n  }\n\n  onSubmit(form: FormGroup) {\n    if (form.valid) {\n      const { initialCredit } = form.value;\n      this.http.post<UserAccount>(this.baseUrl + `users/${this.userId}/accounts`, {\n        initialCredit: {\n          value: initialCredit,\n          currency: 'EUR'\n        }\n      }).subscribe((result: any) => {\n        this.user = result.user;\n        this.accountForm.reset();\n      }, (error: any) => console.error(error));\n    }\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}